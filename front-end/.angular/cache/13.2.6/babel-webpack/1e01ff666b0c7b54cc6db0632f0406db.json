{"ast":null,"code":"import { __decorate } from 'tslib';\nimport { DOCUMENT, CommonModule } from '@angular/common';\nimport * as i0 from '@angular/core';\nimport { EventEmitter, Component, ChangeDetectionStrategy, ViewEncapsulation, Inject, Optional, ViewChild, Input, Output, NgModule } from '@angular/core';\nimport { Subscription, ReplaySubject, Subject, merge, fromEvent } from 'rxjs';\nimport { takeUntil, map, throttleTime } from 'rxjs/operators';\nimport * as i1 from 'ng-zorro-antd/core/config';\nimport { WithConfig } from 'ng-zorro-antd/core/config';\nimport { shallowEqual, getStyleAsText, InputNumber } from 'ng-zorro-antd/core/util';\nimport * as i2 from 'ng-zorro-antd/core/services';\nimport * as i3 from '@angular/cdk/platform';\nimport { PlatformModule } from '@angular/cdk/platform';\nimport * as i4 from 'ng-zorro-antd/cdk/resize-observer';\nimport * as i5 from '@angular/cdk/bidi';\nimport { BidiModule } from '@angular/cdk/bidi';\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nconst _c0 = [\"fixedEl\"];\nconst _c1 = [\"*\"];\nvar AffixRespondEvents;\n\n(function (AffixRespondEvents) {\n  AffixRespondEvents[\"resize\"] = \"resize\";\n  AffixRespondEvents[\"scroll\"] = \"scroll\";\n  AffixRespondEvents[\"touchstart\"] = \"touchstart\";\n  AffixRespondEvents[\"touchmove\"] = \"touchmove\";\n  AffixRespondEvents[\"touchend\"] = \"touchend\";\n  AffixRespondEvents[\"pageshow\"] = \"pageshow\";\n  AffixRespondEvents[\"load\"] = \"LOAD\";\n})(AffixRespondEvents || (AffixRespondEvents = {}));\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\n\nfunction isTargetWindow(target) {\n  return typeof window !== 'undefined' && target === window;\n}\n\nfunction getTargetRect(target) {\n  return !isTargetWindow(target) ? target.getBoundingClientRect() : {\n    top: 0,\n    left: 0,\n    bottom: 0\n  };\n}\n\nconst NZ_CONFIG_MODULE_NAME = 'affix';\nconst NZ_AFFIX_CLS_PREFIX = 'ant-affix';\nconst NZ_AFFIX_DEFAULT_SCROLL_TIME = 20;\n\nclass NzAffixComponent {\n  constructor(el, doc, nzConfigService, scrollSrv, ngZone, platform, renderer, nzResizeObserver, cdr, directionality) {\n    this.nzConfigService = nzConfigService;\n    this.scrollSrv = scrollSrv;\n    this.ngZone = ngZone;\n    this.platform = platform;\n    this.renderer = renderer;\n    this.nzResizeObserver = nzResizeObserver;\n    this.cdr = cdr;\n    this.directionality = directionality;\n    this._nzModuleName = NZ_CONFIG_MODULE_NAME;\n    this.nzChange = new EventEmitter();\n    this.dir = 'ltr';\n    this.positionChangeSubscription = Subscription.EMPTY;\n    this.offsetChanged$ = new ReplaySubject(1);\n    this.destroy$ = new Subject(); // The wrapper would stay at the original position as a placeholder.\n\n    this.placeholderNode = el.nativeElement;\n    this.document = doc;\n  }\n\n  get target() {\n    const el = this.nzTarget;\n    return (typeof el === 'string' ? this.document.querySelector(el) : el) || window;\n  }\n\n  ngOnInit() {\n    var _a;\n\n    (_a = this.directionality.change) === null || _a === void 0 ? void 0 : _a.pipe(takeUntil(this.destroy$)).subscribe(direction => {\n      this.dir = direction;\n      this.registerListeners();\n      this.updatePosition({});\n      this.cdr.detectChanges();\n    });\n    this.dir = this.directionality.value;\n  }\n\n  ngOnChanges(changes) {\n    const {\n      nzOffsetBottom,\n      nzOffsetTop,\n      nzTarget\n    } = changes;\n\n    if (nzOffsetBottom || nzOffsetTop) {\n      this.offsetChanged$.next();\n    }\n\n    if (nzTarget) {\n      this.registerListeners();\n    }\n  }\n\n  ngAfterViewInit() {\n    this.registerListeners();\n  }\n\n  ngOnDestroy() {\n    this.removeListeners();\n  }\n\n  registerListeners() {\n    if (!this.platform.isBrowser) {\n      return;\n    }\n\n    this.removeListeners();\n    const el = this.target === window ? this.document.body : this.target;\n    this.positionChangeSubscription = this.ngZone.runOutsideAngular(() => merge(...Object.keys(AffixRespondEvents).map(evName => fromEvent(this.target, evName)), this.offsetChanged$.pipe(map(() => ({}))), this.nzResizeObserver.observe(el)).pipe(throttleTime(NZ_AFFIX_DEFAULT_SCROLL_TIME, undefined, {\n      trailing: true\n    }), takeUntil(this.destroy$)).subscribe(e => this.updatePosition(e)));\n    this.timeout = setTimeout(() => this.updatePosition({}));\n  }\n\n  removeListeners() {\n    clearTimeout(this.timeout);\n    this.positionChangeSubscription.unsubscribe();\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n\n  getOffset(element, target) {\n    const elemRect = element.getBoundingClientRect();\n    const targetRect = getTargetRect(target);\n    const scrollTop = this.scrollSrv.getScroll(target, true);\n    const scrollLeft = this.scrollSrv.getScroll(target, false);\n    const docElem = this.document.body;\n    const clientTop = docElem.clientTop || 0;\n    const clientLeft = docElem.clientLeft || 0;\n    return {\n      top: elemRect.top - targetRect.top + scrollTop - clientTop,\n      left: elemRect.left - targetRect.left + scrollLeft - clientLeft,\n      width: elemRect.width,\n      height: elemRect.height\n    };\n  }\n\n  setAffixStyle(e, affixStyle) {\n    const originalAffixStyle = this.affixStyle;\n    const isWindow = this.target === window;\n\n    if (e.type === 'scroll' && originalAffixStyle && affixStyle && isWindow) {\n      return;\n    }\n\n    if (shallowEqual(originalAffixStyle, affixStyle)) {\n      return;\n    }\n\n    const fixed = !!affixStyle;\n    const wrapEl = this.fixedEl.nativeElement;\n    this.renderer.setStyle(wrapEl, 'cssText', getStyleAsText(affixStyle));\n    this.affixStyle = affixStyle;\n\n    if (fixed) {\n      wrapEl.classList.add(NZ_AFFIX_CLS_PREFIX);\n    } else {\n      wrapEl.classList.remove(NZ_AFFIX_CLS_PREFIX);\n    }\n\n    this.updateRtlClass();\n\n    if (affixStyle && !originalAffixStyle || !affixStyle && originalAffixStyle) {\n      this.nzChange.emit(fixed);\n    }\n  }\n\n  setPlaceholderStyle(placeholderStyle) {\n    const originalPlaceholderStyle = this.placeholderStyle;\n\n    if (shallowEqual(placeholderStyle, originalPlaceholderStyle)) {\n      return;\n    }\n\n    this.renderer.setStyle(this.placeholderNode, 'cssText', getStyleAsText(placeholderStyle));\n    this.placeholderStyle = placeholderStyle;\n  }\n\n  syncPlaceholderStyle(e) {\n    if (!this.affixStyle) {\n      return;\n    }\n\n    this.renderer.setStyle(this.placeholderNode, 'cssText', '');\n    this.placeholderStyle = undefined;\n    const styleObj = {\n      width: this.placeholderNode.offsetWidth,\n      height: this.fixedEl.nativeElement.offsetHeight\n    };\n    this.setAffixStyle(e, Object.assign(Object.assign({}, this.affixStyle), styleObj));\n    this.setPlaceholderStyle(styleObj);\n  }\n\n  updatePosition(e) {\n    if (!this.platform.isBrowser) {\n      return;\n    }\n\n    const targetNode = this.target;\n    let offsetTop = this.nzOffsetTop;\n    const scrollTop = this.scrollSrv.getScroll(targetNode, true);\n    const elemOffset = this.getOffset(this.placeholderNode, targetNode);\n    const fixedNode = this.fixedEl.nativeElement;\n    const elemSize = {\n      width: fixedNode.offsetWidth,\n      height: fixedNode.offsetHeight\n    };\n    const offsetMode = {\n      top: false,\n      bottom: false\n    }; // Default to `offsetTop=0`.\n\n    if (typeof offsetTop !== 'number' && typeof this.nzOffsetBottom !== 'number') {\n      offsetMode.top = true;\n      offsetTop = 0;\n    } else {\n      offsetMode.top = typeof offsetTop === 'number';\n      offsetMode.bottom = typeof this.nzOffsetBottom === 'number';\n    }\n\n    const targetRect = getTargetRect(targetNode);\n    const targetInnerHeight = targetNode.innerHeight || targetNode.clientHeight;\n\n    if (scrollTop >= elemOffset.top - offsetTop && offsetMode.top) {\n      const width = elemOffset.width;\n      const top = targetRect.top + offsetTop;\n      this.setAffixStyle(e, {\n        position: 'fixed',\n        top,\n        left: targetRect.left + elemOffset.left,\n        width\n      });\n      this.setPlaceholderStyle({\n        width,\n        height: elemSize.height\n      });\n    } else if (scrollTop <= elemOffset.top + elemSize.height + this.nzOffsetBottom - targetInnerHeight && offsetMode.bottom) {\n      const targetBottomOffset = targetNode === window ? 0 : window.innerHeight - targetRect.bottom;\n      const width = elemOffset.width;\n      this.setAffixStyle(e, {\n        position: 'fixed',\n        bottom: targetBottomOffset + this.nzOffsetBottom,\n        left: targetRect.left + elemOffset.left,\n        width\n      });\n      this.setPlaceholderStyle({\n        width,\n        height: elemOffset.height\n      });\n    } else {\n      if (e.type === AffixRespondEvents.resize && this.affixStyle && this.affixStyle.position === 'fixed' && this.placeholderNode.offsetWidth) {\n        this.setAffixStyle(e, Object.assign(Object.assign({}, this.affixStyle), {\n          width: this.placeholderNode.offsetWidth\n        }));\n      } else {\n        this.setAffixStyle(e);\n      }\n\n      this.setPlaceholderStyle();\n    }\n\n    if (e.type === 'resize') {\n      this.syncPlaceholderStyle(e);\n    }\n  }\n\n  updateRtlClass() {\n    const wrapEl = this.fixedEl.nativeElement;\n\n    if (this.dir === 'rtl') {\n      if (wrapEl.classList.contains(NZ_AFFIX_CLS_PREFIX)) {\n        wrapEl.classList.add(`${NZ_AFFIX_CLS_PREFIX}-rtl`);\n      } else {\n        wrapEl.classList.remove(`${NZ_AFFIX_CLS_PREFIX}-rtl`);\n      }\n    } else {\n      wrapEl.classList.remove(`${NZ_AFFIX_CLS_PREFIX}-rtl`);\n    }\n  }\n\n}\n\nNzAffixComponent.ɵfac = function NzAffixComponent_Factory(t) {\n  return new (t || NzAffixComponent)(i0.ɵɵdirectiveInject(i0.ElementRef), i0.ɵɵdirectiveInject(DOCUMENT), i0.ɵɵdirectiveInject(i1.NzConfigService), i0.ɵɵdirectiveInject(i2.NzScrollService), i0.ɵɵdirectiveInject(i0.NgZone), i0.ɵɵdirectiveInject(i3.Platform), i0.ɵɵdirectiveInject(i0.Renderer2), i0.ɵɵdirectiveInject(i4.NzResizeObserver), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef), i0.ɵɵdirectiveInject(i5.Directionality, 8));\n};\n\nNzAffixComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: NzAffixComponent,\n  selectors: [[\"nz-affix\"]],\n  viewQuery: function NzAffixComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 7);\n    }\n\n    if (rf & 2) {\n      let _t;\n\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.fixedEl = _t.first);\n    }\n  },\n  inputs: {\n    nzTarget: \"nzTarget\",\n    nzOffsetTop: \"nzOffsetTop\",\n    nzOffsetBottom: \"nzOffsetBottom\"\n  },\n  outputs: {\n    nzChange: \"nzChange\"\n  },\n  exportAs: [\"nzAffix\"],\n  features: [i0.ɵɵNgOnChangesFeature],\n  ngContentSelectors: _c1,\n  decls: 3,\n  vars: 0,\n  consts: [[\"fixedEl\", \"\"]],\n  template: function NzAffixComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵprojectionDef();\n      i0.ɵɵelementStart(0, \"div\", null, 0);\n      i0.ɵɵprojection(2);\n      i0.ɵɵelementEnd();\n    }\n  },\n  encapsulation: 2,\n  changeDetection: 0\n});\n\n__decorate([WithConfig(), InputNumber(undefined)], NzAffixComponent.prototype, \"nzOffsetTop\", void 0);\n\n__decorate([WithConfig(), InputNumber(undefined)], NzAffixComponent.prototype, \"nzOffsetBottom\", void 0);\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(NzAffixComponent, [{\n    type: Component,\n    args: [{\n      selector: 'nz-affix',\n      exportAs: 'nzAffix',\n      template: `\n    <div #fixedEl>\n      <ng-content></ng-content>\n    </div>\n  `,\n      changeDetection: ChangeDetectionStrategy.OnPush,\n      encapsulation: ViewEncapsulation.None\n    }]\n  }], function () {\n    return [{\n      type: i0.ElementRef\n    }, {\n      type: undefined,\n      decorators: [{\n        type: Inject,\n        args: [DOCUMENT]\n      }]\n    }, {\n      type: i1.NzConfigService\n    }, {\n      type: i2.NzScrollService\n    }, {\n      type: i0.NgZone\n    }, {\n      type: i3.Platform\n    }, {\n      type: i0.Renderer2\n    }, {\n      type: i4.NzResizeObserver\n    }, {\n      type: i0.ChangeDetectorRef\n    }, {\n      type: i5.Directionality,\n      decorators: [{\n        type: Optional\n      }]\n    }];\n  }, {\n    fixedEl: [{\n      type: ViewChild,\n      args: ['fixedEl', {\n        static: true\n      }]\n    }],\n    nzTarget: [{\n      type: Input\n    }],\n    nzOffsetTop: [{\n      type: Input\n    }],\n    nzOffsetBottom: [{\n      type: Input\n    }],\n    nzChange: [{\n      type: Output\n    }]\n  });\n})();\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\n\nclass NzAffixModule {}\n\nNzAffixModule.ɵfac = function NzAffixModule_Factory(t) {\n  return new (t || NzAffixModule)();\n};\n\nNzAffixModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n  type: NzAffixModule\n});\nNzAffixModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n  imports: [[BidiModule, CommonModule, PlatformModule]]\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(NzAffixModule, [{\n    type: NgModule,\n    args: [{\n      declarations: [NzAffixComponent],\n      exports: [NzAffixComponent],\n      imports: [BidiModule, CommonModule, PlatformModule]\n    }]\n  }], null, null);\n})();\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\n\nexport { NzAffixComponent, NzAffixModule };","map":{"version":3,"sources":["/home/ofgha/Documents/PL2/front-end/node_modules/ng-zorro-antd/fesm2015/ng-zorro-antd-affix.mjs"],"names":["__decorate","DOCUMENT","CommonModule","i0","EventEmitter","Component","ChangeDetectionStrategy","ViewEncapsulation","Inject","Optional","ViewChild","Input","Output","NgModule","Subscription","ReplaySubject","Subject","merge","fromEvent","takeUntil","map","throttleTime","i1","WithConfig","shallowEqual","getStyleAsText","InputNumber","i2","i3","PlatformModule","i4","i5","BidiModule","AffixRespondEvents","isTargetWindow","target","window","getTargetRect","getBoundingClientRect","top","left","bottom","NZ_CONFIG_MODULE_NAME","NZ_AFFIX_CLS_PREFIX","NZ_AFFIX_DEFAULT_SCROLL_TIME","NzAffixComponent","constructor","el","doc","nzConfigService","scrollSrv","ngZone","platform","renderer","nzResizeObserver","cdr","directionality","_nzModuleName","nzChange","dir","positionChangeSubscription","EMPTY","offsetChanged$","destroy$","placeholderNode","nativeElement","document","nzTarget","querySelector","ngOnInit","_a","change","pipe","subscribe","direction","registerListeners","updatePosition","detectChanges","value","ngOnChanges","changes","nzOffsetBottom","nzOffsetTop","next","ngAfterViewInit","ngOnDestroy","removeListeners","isBrowser","body","runOutsideAngular","Object","keys","evName","observe","undefined","trailing","e","timeout","setTimeout","clearTimeout","unsubscribe","complete","getOffset","element","elemRect","targetRect","scrollTop","getScroll","scrollLeft","docElem","clientTop","clientLeft","width","height","setAffixStyle","affixStyle","originalAffixStyle","isWindow","type","fixed","wrapEl","fixedEl","setStyle","classList","add","remove","updateRtlClass","emit","setPlaceholderStyle","placeholderStyle","originalPlaceholderStyle","syncPlaceholderStyle","styleObj","offsetWidth","offsetHeight","assign","targetNode","offsetTop","elemOffset","fixedNode","elemSize","offsetMode","targetInnerHeight","innerHeight","clientHeight","position","targetBottomOffset","resize","contains","ɵfac","ElementRef","NzConfigService","NzScrollService","NgZone","Platform","Renderer2","NzResizeObserver","ChangeDetectorRef","Directionality","ɵcmp","prototype","args","selector","exportAs","template","changeDetection","OnPush","encapsulation","None","decorators","static","NzAffixModule","ɵmod","ɵinj","declarations","exports","imports"],"mappings":"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","sourcesContent":["import { __decorate } from 'tslib';\nimport { DOCUMENT, CommonModule } from '@angular/common';\nimport * as i0 from '@angular/core';\nimport { EventEmitter, Component, ChangeDetectionStrategy, ViewEncapsulation, Inject, Optional, ViewChild, Input, Output, NgModule } from '@angular/core';\nimport { Subscription, ReplaySubject, Subject, merge, fromEvent } from 'rxjs';\nimport { takeUntil, map, throttleTime } from 'rxjs/operators';\nimport * as i1 from 'ng-zorro-antd/core/config';\nimport { WithConfig } from 'ng-zorro-antd/core/config';\nimport { shallowEqual, getStyleAsText, InputNumber } from 'ng-zorro-antd/core/util';\nimport * as i2 from 'ng-zorro-antd/core/services';\nimport * as i3 from '@angular/cdk/platform';\nimport { PlatformModule } from '@angular/cdk/platform';\nimport * as i4 from 'ng-zorro-antd/cdk/resize-observer';\nimport * as i5 from '@angular/cdk/bidi';\nimport { BidiModule } from '@angular/cdk/bidi';\n\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\nvar AffixRespondEvents;\n(function (AffixRespondEvents) {\n    AffixRespondEvents[\"resize\"] = \"resize\";\n    AffixRespondEvents[\"scroll\"] = \"scroll\";\n    AffixRespondEvents[\"touchstart\"] = \"touchstart\";\n    AffixRespondEvents[\"touchmove\"] = \"touchmove\";\n    AffixRespondEvents[\"touchend\"] = \"touchend\";\n    AffixRespondEvents[\"pageshow\"] = \"pageshow\";\n    AffixRespondEvents[\"load\"] = \"LOAD\";\n})(AffixRespondEvents || (AffixRespondEvents = {}));\n\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\nfunction isTargetWindow(target) {\n    return typeof window !== 'undefined' && target === window;\n}\nfunction getTargetRect(target) {\n    return !isTargetWindow(target)\n        ? target.getBoundingClientRect()\n        : {\n            top: 0,\n            left: 0,\n            bottom: 0\n        };\n}\n\nconst NZ_CONFIG_MODULE_NAME = 'affix';\nconst NZ_AFFIX_CLS_PREFIX = 'ant-affix';\nconst NZ_AFFIX_DEFAULT_SCROLL_TIME = 20;\nclass NzAffixComponent {\n    constructor(el, doc, nzConfigService, scrollSrv, ngZone, platform, renderer, nzResizeObserver, cdr, directionality) {\n        this.nzConfigService = nzConfigService;\n        this.scrollSrv = scrollSrv;\n        this.ngZone = ngZone;\n        this.platform = platform;\n        this.renderer = renderer;\n        this.nzResizeObserver = nzResizeObserver;\n        this.cdr = cdr;\n        this.directionality = directionality;\n        this._nzModuleName = NZ_CONFIG_MODULE_NAME;\n        this.nzChange = new EventEmitter();\n        this.dir = 'ltr';\n        this.positionChangeSubscription = Subscription.EMPTY;\n        this.offsetChanged$ = new ReplaySubject(1);\n        this.destroy$ = new Subject();\n        // The wrapper would stay at the original position as a placeholder.\n        this.placeholderNode = el.nativeElement;\n        this.document = doc;\n    }\n    get target() {\n        const el = this.nzTarget;\n        return (typeof el === 'string' ? this.document.querySelector(el) : el) || window;\n    }\n    ngOnInit() {\n        var _a;\n        (_a = this.directionality.change) === null || _a === void 0 ? void 0 : _a.pipe(takeUntil(this.destroy$)).subscribe((direction) => {\n            this.dir = direction;\n            this.registerListeners();\n            this.updatePosition({});\n            this.cdr.detectChanges();\n        });\n        this.dir = this.directionality.value;\n    }\n    ngOnChanges(changes) {\n        const { nzOffsetBottom, nzOffsetTop, nzTarget } = changes;\n        if (nzOffsetBottom || nzOffsetTop) {\n            this.offsetChanged$.next();\n        }\n        if (nzTarget) {\n            this.registerListeners();\n        }\n    }\n    ngAfterViewInit() {\n        this.registerListeners();\n    }\n    ngOnDestroy() {\n        this.removeListeners();\n    }\n    registerListeners() {\n        if (!this.platform.isBrowser) {\n            return;\n        }\n        this.removeListeners();\n        const el = this.target === window ? this.document.body : this.target;\n        this.positionChangeSubscription = this.ngZone.runOutsideAngular(() => merge(...Object.keys(AffixRespondEvents).map(evName => fromEvent(this.target, evName)), this.offsetChanged$.pipe(map(() => ({}))), this.nzResizeObserver.observe(el))\n            .pipe(throttleTime(NZ_AFFIX_DEFAULT_SCROLL_TIME, undefined, { trailing: true }), takeUntil(this.destroy$))\n            .subscribe(e => this.updatePosition(e)));\n        this.timeout = setTimeout(() => this.updatePosition({}));\n    }\n    removeListeners() {\n        clearTimeout(this.timeout);\n        this.positionChangeSubscription.unsubscribe();\n        this.destroy$.next();\n        this.destroy$.complete();\n    }\n    getOffset(element, target) {\n        const elemRect = element.getBoundingClientRect();\n        const targetRect = getTargetRect(target);\n        const scrollTop = this.scrollSrv.getScroll(target, true);\n        const scrollLeft = this.scrollSrv.getScroll(target, false);\n        const docElem = this.document.body;\n        const clientTop = docElem.clientTop || 0;\n        const clientLeft = docElem.clientLeft || 0;\n        return {\n            top: elemRect.top - targetRect.top + scrollTop - clientTop,\n            left: elemRect.left - targetRect.left + scrollLeft - clientLeft,\n            width: elemRect.width,\n            height: elemRect.height\n        };\n    }\n    setAffixStyle(e, affixStyle) {\n        const originalAffixStyle = this.affixStyle;\n        const isWindow = this.target === window;\n        if (e.type === 'scroll' && originalAffixStyle && affixStyle && isWindow) {\n            return;\n        }\n        if (shallowEqual(originalAffixStyle, affixStyle)) {\n            return;\n        }\n        const fixed = !!affixStyle;\n        const wrapEl = this.fixedEl.nativeElement;\n        this.renderer.setStyle(wrapEl, 'cssText', getStyleAsText(affixStyle));\n        this.affixStyle = affixStyle;\n        if (fixed) {\n            wrapEl.classList.add(NZ_AFFIX_CLS_PREFIX);\n        }\n        else {\n            wrapEl.classList.remove(NZ_AFFIX_CLS_PREFIX);\n        }\n        this.updateRtlClass();\n        if ((affixStyle && !originalAffixStyle) || (!affixStyle && originalAffixStyle)) {\n            this.nzChange.emit(fixed);\n        }\n    }\n    setPlaceholderStyle(placeholderStyle) {\n        const originalPlaceholderStyle = this.placeholderStyle;\n        if (shallowEqual(placeholderStyle, originalPlaceholderStyle)) {\n            return;\n        }\n        this.renderer.setStyle(this.placeholderNode, 'cssText', getStyleAsText(placeholderStyle));\n        this.placeholderStyle = placeholderStyle;\n    }\n    syncPlaceholderStyle(e) {\n        if (!this.affixStyle) {\n            return;\n        }\n        this.renderer.setStyle(this.placeholderNode, 'cssText', '');\n        this.placeholderStyle = undefined;\n        const styleObj = {\n            width: this.placeholderNode.offsetWidth,\n            height: this.fixedEl.nativeElement.offsetHeight\n        };\n        this.setAffixStyle(e, Object.assign(Object.assign({}, this.affixStyle), styleObj));\n        this.setPlaceholderStyle(styleObj);\n    }\n    updatePosition(e) {\n        if (!this.platform.isBrowser) {\n            return;\n        }\n        const targetNode = this.target;\n        let offsetTop = this.nzOffsetTop;\n        const scrollTop = this.scrollSrv.getScroll(targetNode, true);\n        const elemOffset = this.getOffset(this.placeholderNode, targetNode);\n        const fixedNode = this.fixedEl.nativeElement;\n        const elemSize = {\n            width: fixedNode.offsetWidth,\n            height: fixedNode.offsetHeight\n        };\n        const offsetMode = {\n            top: false,\n            bottom: false\n        };\n        // Default to `offsetTop=0`.\n        if (typeof offsetTop !== 'number' && typeof this.nzOffsetBottom !== 'number') {\n            offsetMode.top = true;\n            offsetTop = 0;\n        }\n        else {\n            offsetMode.top = typeof offsetTop === 'number';\n            offsetMode.bottom = typeof this.nzOffsetBottom === 'number';\n        }\n        const targetRect = getTargetRect(targetNode);\n        const targetInnerHeight = targetNode.innerHeight || targetNode.clientHeight;\n        if (scrollTop >= elemOffset.top - offsetTop && offsetMode.top) {\n            const width = elemOffset.width;\n            const top = targetRect.top + offsetTop;\n            this.setAffixStyle(e, {\n                position: 'fixed',\n                top,\n                left: targetRect.left + elemOffset.left,\n                width\n            });\n            this.setPlaceholderStyle({\n                width,\n                height: elemSize.height\n            });\n        }\n        else if (scrollTop <= elemOffset.top + elemSize.height + this.nzOffsetBottom - targetInnerHeight &&\n            offsetMode.bottom) {\n            const targetBottomOffset = targetNode === window ? 0 : window.innerHeight - targetRect.bottom;\n            const width = elemOffset.width;\n            this.setAffixStyle(e, {\n                position: 'fixed',\n                bottom: targetBottomOffset + this.nzOffsetBottom,\n                left: targetRect.left + elemOffset.left,\n                width\n            });\n            this.setPlaceholderStyle({\n                width,\n                height: elemOffset.height\n            });\n        }\n        else {\n            if (e.type === AffixRespondEvents.resize &&\n                this.affixStyle &&\n                this.affixStyle.position === 'fixed' &&\n                this.placeholderNode.offsetWidth) {\n                this.setAffixStyle(e, Object.assign(Object.assign({}, this.affixStyle), { width: this.placeholderNode.offsetWidth }));\n            }\n            else {\n                this.setAffixStyle(e);\n            }\n            this.setPlaceholderStyle();\n        }\n        if (e.type === 'resize') {\n            this.syncPlaceholderStyle(e);\n        }\n    }\n    updateRtlClass() {\n        const wrapEl = this.fixedEl.nativeElement;\n        if (this.dir === 'rtl') {\n            if (wrapEl.classList.contains(NZ_AFFIX_CLS_PREFIX)) {\n                wrapEl.classList.add(`${NZ_AFFIX_CLS_PREFIX}-rtl`);\n            }\n            else {\n                wrapEl.classList.remove(`${NZ_AFFIX_CLS_PREFIX}-rtl`);\n            }\n        }\n        else {\n            wrapEl.classList.remove(`${NZ_AFFIX_CLS_PREFIX}-rtl`);\n        }\n    }\n}\nNzAffixComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.11\", ngImport: i0, type: NzAffixComponent, deps: [{ token: i0.ElementRef }, { token: DOCUMENT }, { token: i1.NzConfigService }, { token: i2.NzScrollService }, { token: i0.NgZone }, { token: i3.Platform }, { token: i0.Renderer2 }, { token: i4.NzResizeObserver }, { token: i0.ChangeDetectorRef }, { token: i5.Directionality, optional: true }], target: i0.ɵɵFactoryTarget.Component });\nNzAffixComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.11\", type: NzAffixComponent, selector: \"nz-affix\", inputs: { nzTarget: \"nzTarget\", nzOffsetTop: \"nzOffsetTop\", nzOffsetBottom: \"nzOffsetBottom\" }, outputs: { nzChange: \"nzChange\" }, viewQueries: [{ propertyName: \"fixedEl\", first: true, predicate: [\"fixedEl\"], descendants: true, static: true }], exportAs: [\"nzAffix\"], usesOnChanges: true, ngImport: i0, template: `\n    <div #fixedEl>\n      <ng-content></ng-content>\n    </div>\n  `, isInline: true, changeDetection: i0.ChangeDetectionStrategy.OnPush, encapsulation: i0.ViewEncapsulation.None });\n__decorate([\n    WithConfig(),\n    InputNumber(undefined)\n], NzAffixComponent.prototype, \"nzOffsetTop\", void 0);\n__decorate([\n    WithConfig(),\n    InputNumber(undefined)\n], NzAffixComponent.prototype, \"nzOffsetBottom\", void 0);\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.11\", ngImport: i0, type: NzAffixComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'nz-affix',\n                    exportAs: 'nzAffix',\n                    template: `\n    <div #fixedEl>\n      <ng-content></ng-content>\n    </div>\n  `,\n                    changeDetection: ChangeDetectionStrategy.OnPush,\n                    encapsulation: ViewEncapsulation.None\n                }]\n        }], ctorParameters: function () {\n        return [{ type: i0.ElementRef }, { type: undefined, decorators: [{\n                        type: Inject,\n                        args: [DOCUMENT]\n                    }] }, { type: i1.NzConfigService }, { type: i2.NzScrollService }, { type: i0.NgZone }, { type: i3.Platform }, { type: i0.Renderer2 }, { type: i4.NzResizeObserver }, { type: i0.ChangeDetectorRef }, { type: i5.Directionality, decorators: [{\n                        type: Optional\n                    }] }];\n    }, propDecorators: { fixedEl: [{\n                type: ViewChild,\n                args: ['fixedEl', { static: true }]\n            }], nzTarget: [{\n                type: Input\n            }], nzOffsetTop: [{\n                type: Input\n            }], nzOffsetBottom: [{\n                type: Input\n            }], nzChange: [{\n                type: Output\n            }] } });\n\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\nclass NzAffixModule {\n}\nNzAffixModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.11\", ngImport: i0, type: NzAffixModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nNzAffixModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.3.11\", ngImport: i0, type: NzAffixModule, declarations: [NzAffixComponent], imports: [BidiModule, CommonModule, PlatformModule], exports: [NzAffixComponent] });\nNzAffixModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.3.11\", ngImport: i0, type: NzAffixModule, imports: [[BidiModule, CommonModule, PlatformModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.11\", ngImport: i0, type: NzAffixModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    declarations: [NzAffixComponent],\n                    exports: [NzAffixComponent],\n                    imports: [BidiModule, CommonModule, PlatformModule]\n                }]\n        }] });\n\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { NzAffixComponent, NzAffixModule };\n"]},"metadata":{},"sourceType":"module"}